The last step to take before you're all set for the workshop is to get these components talking to one another! You set a password for your GitHub which is used for logging in to GitHub but to actually put your code changes from your computer up to GitHub you'll need to _authenticate_ yourself. There are two paths for authentication:

1. Personal Access Token (PAT)
2. Secure Shell (SSH) 

What's the difference? Essentially, authenticating via token makes many things "just work" while authenticating via SSH will work for some things but in other contexts you would _also_ need to do token-based authentication. For a more complete discussion of the benefits and drawbacks of each, see Dr. Bryan's "[HTTPS versus SSH](https://happygitwithr.com/https-pat#https-vs-ssh)" page.

Follow the steps of your chosen authentication method in the tabs below.

::::{.panel-tabset}
#### Token

**All of the code chunks for authenticating with a token are {{< fa brands r-project >}} R code that should be run in the "Console" pane of RStudio.** You may also create a script and run the code from there if you so desire but you'll likely only need this code once so the script's value would be short-lived.

<details>
<summary>"Classic" versus "Fine-Grained" Tokens</summary>

If you follow the steps outlined below, you will make a "classic" token. This is the recommended method! GitHub also supports "fine-grained" tokens but they are a little more error-prone for the ways working groups tend to use GitHub.

For all the nitty gritty detail, check out [GitHub's documentation on tokens](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens) but essentially fine-grained tokens only work for repositories that you personally own. Because LTER working groups tend to work primarily in a repository owned by the [LTER Network Office GitHub Organization](https://github.com/lter), this means that <u>a fine-grained token won't let you edit your group's repository</u>.

So, **make sure that you make a "classic" token!** Feel free to reach out to the SciComp team if questions arise on this point!

</details>

```{r token-process-1}
#| eval: false

# Install the `usethis` and `gitcreds` packages
install.packages(c("usethis", "gitcreds"))

# Add your GitHub username and email
usethis::use_git_config(user.name = "Your GitHub Username",
                        user.email = "Your GitHub Email")

# Create a token (Note this will open a GitHub browser tab)
## See steps 6-10 in GitHub's PAT tutorial (link below)
usethis::create_github_token() # <1>
```
1. Leave parentheses empty

_Copy your token at the end of the above step._ Once you leave the page where your token is displayed you'll <u>never</u> get to see it again! So if you close that page without copying it you'll need to make a new one in order to continue.

Once you've copied your token, run the code below to save your credentials in RStudio.

```{r token-process-2, eval = FALSE}
# Now, give your token to RStudio
## After you run this line follow the prompts in the "Console" tab of RStudio
gitcreds::gitcreds_set()  # <2>
```
2. Leave parentheses empty here as well!

This line of code will prompt you to paste your token in the "Console" tab. After you do so (and hit "Enter"), your token will be safely stored in RStudio! 

##### Further Information

You may also find [GitHub's PAT tutorial](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token) (this is the link referenced in the first token-authentication code chunk!) or the [Happy Git with R PAT tutorial](https://happygitwithr.com/https-pat.html) helpful.

#### SSH Key

**All of the code chunks for authenticating with SSH are {{< fa terminal >}} command line code that should be agnostic to your programming language.**

First, we need to check whether you already have SSH keys created on your computer. If you get a message saying that nothing exists or the path doesn't exist, you do not (yet) have SSH keys.

```{bash ssh-check, eval = F}
ls -al ~/.ssh/
```

If you do need to create an SSH key pair you can do so via the command line. When you create a key pair you'll need to include a descriptive comment to help 'future you' if you ever have multiple key pairs in your life. We recommend "lter" plus your GitHub username to keep things simple.

```{bash ssh-make, eval = F}
ssh-keygen -t ed25519 -C "lter-github"
```

:::{.callout-tip}
#### Older Computer?

If you get a warning/error because your system is too old to support the Ed25519 algorithm (that's the variant recommended by GitHub) you can instead use:

```{bash ssh-make-variant, eval = F}
ssh-keygen -t rsa -b 4096 -C "lter-github"
```
:::

Accept the prompt to save the key in the default location by hitting Enter. You will be prompted to enter a passphrase that will be required to access your SSH key later on. This step is technically optional but is considered a best practice. <u>If SSH keys are totally new to you, we recommend skipping the passphrase step.</u>

Once you've generated the key pair, follow [GitHub's instructions](https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent#adding-your-ssh-key-to-the-ssh-agent) on adding that key pair to your computer's ssh-agent (roughly equivalent to a password manager but just for SSH key pairs).

Finally, you need to share the public key with your GitHub self. Once again we'll refer you to [the phenomenal materials](https://happygitwithr.com/ssh-keys#provide-public-key-to-github) generated by Dr. Bryan on this topic. 

##### Further Information

You may also find [GitHub's SSH documentation](https://docs.github.com/en/authentication/connecting-to-github-with-ssh) or the [Happy Git with R SSH tutorial](https://happygitwithr.com/ssh-keys) helpful.

::::
